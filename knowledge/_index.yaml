# Knowledge Index
# Structured for AI to find relevant knowledge files for each situation

categories:
  01-core:
    description: "Foundational principles, basis for all decisions"
    files:
      - 01-core/ai-axioms
      - 01-core/philosophy
      - 01-core/neuron-base
      - 01-core/agents

  02-workflow:
    description: "Work procedures, git, release, data processing"
    files:
      - 02-workflow/git-workflow
      - 02-workflow/git-advanced
      - 02-workflow/release-workflow
      - 02-workflow/spec-process
      - 02-workflow/data-pipeline
      - 02-workflow/task-verification-workflow

  03-architecture:
    description: "Structural decisions, where to build what"
    files:
      - 03-architecture/decision-guide
      - 03-architecture/extension-mechanisms
      - 03-architecture/module-protocol
      - 03-architecture/repo-setup

  04-operations:
    description: "Operations, settings, token management"
    files:
      - 04-operations/github-settings
      - 04-operations/api-tokens
      - 04-operations/self-improve-policy

# Situation-based trigger â†’ file mapping
# AI references these files when detecting these patterns
trigger_map:
  - pattern: "API|data|pagination|large|100 lines|pipeline"
    files: [02-workflow/data-pipeline]
    description: "When handling large data"

  - pattern: "where|location|new feature|new project|submodule"
    files: [03-architecture/decision-guide, 03-architecture/module-protocol]
    description: "When deciding feature/project location"

  - pattern: "git|commit|branch|PR|merge|rebase"
    files: [02-workflow/git-workflow, 02-workflow/git-advanced]
    description: "When working with Git"

  - pattern: "release|version|tag|changelog"
    files: [02-workflow/release-workflow]
    description: "When releasing"

  - pattern: "skill|mcp|agent|command|hook|extend"
    files: [03-architecture/extension-mechanisms]
    description: "When extending Claude Code"

  - pattern: "principle|philosophy|why|rationale|judgment"
    files: [01-core/ai-axioms, 01-core/philosophy]
    description: "When decision rationale needed"

  - pattern: "token|API key|auth|credential"
    files: [04-operations/api-tokens]
    description: "When authenticating external services"

  - pattern: "spec|requirement|scenario"
    files: [02-workflow/spec-process]
    description: "When writing specifications"

  - pattern: "verify|test|criteria|validate|done|complete|check"
    files: [02-workflow/task-verification-workflow]
    description: "When defining tasks with verification"

  - pattern: "agent|advisor|reviewer|refactor|self-improve|subagent"
    files: [01-core/agents]
    description: "When working with AI agents"

# Per-file summaries (quick reference)
summaries:
  01-core/ai-axioms: "Curiosity, Truth, Beauty - 3 core axioms"
  01-core/philosophy: "SSOT, MECE, Simplicity First - 20 principles"
  01-core/neuron-base: "Submodule inheritance contract"
  01-core/agents: "Advisor, reviewer, refactor, self-improve agents"
  02-workflow/git-workflow: "Conventional Commits, branch strategy"
  02-workflow/git-advanced: "Worktree, revert, collaboration tips"
  02-workflow/release-workflow: "Semantic versioning, /release command"
  02-workflow/spec-process: "Scenario-based spec development"
  02-workflow/data-pipeline: "Large data pipeline pattern"
  02-workflow/task-verification-workflow: "Define task + criteria, verify before done"
  03-architecture/decision-guide: "neuron vs separate repo, API Skill placement"
  03-architecture/extension-mechanisms: "Skills, MCP, Subagent, Commands, Hooks selection"
  03-architecture/module-protocol: "Submodule register/archive/re-register"
  03-architecture/repo-setup: "New repository essential files, templates"
  04-operations/github-settings: "Branch protection, PR settings"
  04-operations/api-tokens: "External service token metadata"
  04-operations/self-improve-policy: "Self-improve agent guardrails"
